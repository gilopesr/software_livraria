<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Autores Cadastrados</title>
    <link rel="shortcut icon" type="imagex/png" href="/static/img/livro_img.png">
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- HEADER / TOP BAR -->
    <header class="top-bar">
        <div class="header__logo">
            <a href="/" style="text-decoration: none; color: inherit;">
                <img src="/static/img/livro_img.png" alt="Logo Livraria">
                <span>Livraria Entrelinhas</span>
            </a>
        </div>

        <div class="header__search">
            <input id="search-input" type="text" maxlength="800" placeholder="Buscar por Título, ISBN ou Autor">
            <i id="search-icon" class="fa fa-search"></i>
        </div>

        <div class="right-menu">
        <div class="login">
            <i class="fa fa-user"></i>
            <span>Seja bem-vindo!<a href="/login" id="login"> <strong>Faça seu login</strong></a></span>
        </div>

        <div class="cart-container">
            <a href="#" id="cart-icon" class="cart">
                <i class="fa fa-shopping-bag"></i>
                <span class="count">0</span>
            </a>
            
            <div id="cart-card" class="cart-card hidden">
                <div id="cart-items-list" class="cart-items-list">
                    </div>
                <p class="cart-total">
                    Total: R$ <span id="cart-total-value">0,00</span>
                </p>
                <button class="checkout-btn">Finalizar Compra</button>
            </div>
        </div>
        </div>
    </header>

    <nav class="main-nav">
        <div class="container nav-container">
            <ul class="nav-links">
                <li class="dropdown">
                    <a href="#" class="nav-link dropbtn">
                        <i class="fa fa-bars mr-2"> </i>   Ver mais
                    </a>
                    <div class="dropdown-content">
                        <a href="/promocoes">Promoções</a>
                        <a href="/lancamentos">Lançamentos</a>
                        <a href="/contato">Contato</a>
                    </div>
                </li>
                
                <li><a href="/livros/formato/Ebook" class="nav-link">Ebooks</a></li>

                <li class="dropdown">
                    <a href="#" class="nav-link dropbtn">Generos</a>
                    <div class="dropdown-content">

                        <a href="/livros/genero/Ficção Científica">Ficção</a>
                        <a href="/livros/genero/Fantasia">Fantasia</a>
                        <a href="/livros/genero/Romance">Romance</a>
                        <a href="/livros/genero/Drama">Drama</a>
                        <a href="/livros/genero/Geek">Geek</a>
                        <a href="/livros/genero/Biografia">Biografia</a>
                    </div>
                </li>

                <li><a href="/livros" class="nav-link">Livros</a></li>
                <li><a href="/autor" class="nav-link">Autores</a></li>
                <a href="/cadastrarAutor" class="add-livro">Cadastrar Novo Autor</a>
            </ul>
        </div>
    </nav>

    <h1>Autores</h1>

    <div class="cards-container">
        {% for autor in autores %}
        <div class="card">
            <div class="card-header">
                <h2>{{ autor.nome }}</h2>
                
                <a href="{{ url_for('gerenciarAutor', autor_id=autor.id) }}" class="edit-btn">
                    <i class="fa fa-pencil"></i>
                </a>
            </div>
            <p><strong>Data de Nascimento:</strong> {{ autor.dataNasc }}</p>
            
            {% if autor.livros %}
            <p><strong>Livros:</strong></p>
            <ul>
                {% for livro in autor.livros %}
                <li>{{ livro.titulo }}</li>
                {% endfor %}
            </ul>
            {% else %}
            <p class="no-books"><em>Sem livros cadastrados</em></p>
            {% endif %}
        </div>
        {% endfor %}
    </div>
    <script src="/static/index.js"></script>
</body>
</html>