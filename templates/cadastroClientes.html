<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Cadastro de Cliente</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <link rel='stylesheet' href='/static/style.css'>
</head>
<body class="login">
    <main>
        <form action="{{ url_for('cliente_bp.salvar_cliente') }}" method="POST">
            <h2>Cadastro de Cliente</h2>

            <fieldset>
                <legend>Dados Pessoais</legend>
                <label for="nome">Nome Completo: <span class="required">*</span></label>
                <input type="text" name="nome" id="nome" required autocomplete="name" autofocus>

                <label for="email">Email: <span class="required">*</span></label>
                <input type="email" name="email" id="email" required autocomplete="email">

                <label for="telefone">Telefone: <span class="required">*</span></label>
                <input type="tel" name="telefone" id='telefone' required 
                       placeholder="(XX) 9XXXX-XXXX" pattern="^\(\d{2}\)\s\d{5}-\d{4}$"> 

            <label for="endereco">Endereço:</label>
            <input type="text" name="endereco" id="endereco">

            <fieldset>
                <legend>Login</legend>
                <label for="username">Usuário (Login): <span class="required">*</span></label>
                <input type="text" name="username" id='username' required autocomplete="username"> 

                <label for="senha">Senha: <span class="required">*</span></label>
                <input type="password" name="senha" id="senha" required minlength="8" autocomplete="new-password">

                <label for="confirmar_senha">Confirme a Senha: <span class="required">*</span></label>
                <input type="password" name="confirmar_senha" id="confirmar_senha" required minlength="8" autocomplete="new-password"> 
            </fieldset>
            
            <button type="submit">Finalizar Cadastro</button>

            {% if sucesso %}
              <script>
                document.addEventListener("DOMContentLoaded", function() {
                  if (confirm("{{ mensagem }}")) {
                    window.location.href = "{{ url_for('livro.index') }}";
                  }
                });
              </script>
            {% endif %}
        </form>
    </main>
</body>
</html>
